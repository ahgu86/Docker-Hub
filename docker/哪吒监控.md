### Docker部署哪吒监控

`docker-compose.yml`示例配置

```
services:
  nezha:
    image: ghcr.io/naiba/nezha-dashboard:v0.20.13
    container_name: nezha
    restart: always
    ports:
      - "8008:80"   # 面板端口
      - "5555:5555" # 监控端口
    volumes:
      - ./data:/dashboard/data   # 数据持久化
      - ./config.yaml:/dashboard/config.yaml   # 配置文件
    environment:
      - TZ=Asia/Shanghai    # 时区
      - SITE_TITLE=哪吒监控  # 站点标题 
```


`config.yaml`示例配置
```
debug: false
site:
  brand: 哪吒监控
  theme: light
  customCode: ""
  viewPassword: ""
  cover: 0

oauth2:
  type: github
  admin: "你的GitHub用户名"
  github:
    clientid: "你的ClientID"
    clientsecret: "你的ClientSecret"

httpport: 80
grpcport: 5555
proxygrpcport: 5555
```

---


更多登录方式配置：
```
# 1. GitHub 配置方式
oauth2:
  type: github
  admin: "你的GitHub用户名"
  github:
    clientid: "GitHub应用的ClientID"
    clientsecret: "GitHub应用的ClientSecret"

# 2. GitLab 配置方式
oauth2:
  type: gitlab
  admin: "你的GitLab用户名"
  gitlab:
    clientid: "GitLab应用的ClientID"
    clientsecret: "GitLab应用的ClientSecret"
    endpoint: "https://gitlab.com"  # 自托管GitLab需要修改这个地址

# 3. JihuLab 配置方式
oauth2:
  type: jihulab
  admin: "你的JihuLab用户名"
  jihulab:
    clientid: "JihuLab应用的ClientID"
    clientsecret: "JihuLab应用的ClientSecret"

# 4. Gitee 配置方式
oauth2:
  type: gitee
  admin: "你的Gitee用户名"
  gitee:
    clientid: "Gitee应用的ClientID"
    clientsecret: "Gitee应用的ClientSecret"

# 5. Cloudflare 配置方式
oauth2:
  type: cloudflare
  admin: "你的Cloudflare邮箱"
  cloudflare:
    clientid: "Cloudflare应用的ClientID"
    clientsecret: "Cloudflare应用的ClientSecret"
```


每种方式的申请流程：
```
GitHub OAuth 申请流程:

访问 https://github.com/settings/applications/new
填写应用信息：

Application name: 自定义名称（如：哪吒监控）
Homepage URL: http://你的域名
Authorization callback URL: http://你的域名/oauth2/callback


点击 Register application
创建后可以看到 Client ID，点击 Generate new client secret 生成 Client Secret
将获得的 Client ID 和 Client Secret 填入配置文件


GitLab OAuth 申请流程:

访问 https://gitlab.com/-/profile/applications
填写应用信息：

Name: 自定义名称
Redirect URL: http://你的域名/oauth2/callback
Scopes: 勾选 read_user


点击 Save application
保存后会显示 Application ID 和 Secret，填入配置文件
如果是自托管的 GitLab，需要修改配置中的 endpoint 地址


JihuLab OAuth 申请流程:

访问 https://jihulab.com/-/profile/applications
填写应用信息：

应用名称: 自定义名称
回调地址: http://你的域名/oauth2/callback
范围: 勾选 read_user


点击保存应用
将获得的应用 ID 和密钥填入配置文件


Gitee OAuth 申请流程:

访问 https://gitee.com/oauth/applications
点击"创建应用"
填写信息：

应用名称: 自定义名称
应用主页: http://你的域名
回调地址: http://你的域名/oauth2/callback
权限: 勾选 user_info


点击创建应用
创建后获取 Client ID 和 Client Secret 填入配置文件


Cloudflare OAuth 申请流程:

访问 https://dash.cloudflare.com/profile/api-tokens
点击 Create Token
选择 "Create Custom Token"
设置权限：

Zone - DNS - Edit
Account - Worker Scripts - Edit


填写令牌名称
设置 Client ID 和 Client Secret
添加回调地址：http://你的域名/oauth2/callback
创建令牌
将获得的信息填入配置文件



注意事项：

所有的 你的域名 都需要替换为实际访问地址
如果使用 IP 和端口访问，格式为：http://IP:端口/oauth2/callback
本地测试可以使用：http://localhost:端口/oauth2/callback
配置文件中的 admin 要填写对应平台的用户名/邮箱
callback URL 必须完全匹配，包括 http/https 协议
```
